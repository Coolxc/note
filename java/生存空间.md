**栈(stack)中保存方法调用和局部变量：`go(); main(); int x;`**

**堆(heap)中保存所有new出来的对象**





**实例变量是类层次的变量(方法之外)，存在于所属的对象中**

**局部变量和方法的参数是方法层次的，是暂时的，生命周i只限于方法被放在栈上、从调用到执行完毕这一段时间**

```java
public class Cat {
	int x; //实例变量
	void foo(int a){ //a,b都是局部变量
		int b
	}
}
```

![image-20200223161152831](图片\image-20200223161152831.png)

**栈内保存的是堆栈块(包括方法和方法的状态等)。foo()调用bar()方法则bar()到栈顶并执行。bar()执行完毕则出栈此时栈顶是foo()执行。bar()中s在bar方法结束时就消失了，因为堆栈块已经出栈了。**

![image-20200223161748920](图片\image-20200223161748920.png)

**实例变量存在于所属的对象中，所以他会和对象一样存在于堆中，对象活着那么实例变量就活着，如果对象唯一的引用消失了那么堆上的对象与栈上的引用就会一块消失。显然primitive类型的变量堆会自动根据int或long...分配空间。但是引用类型的变量呢**

![image-20200223163557449](图片\image-20200223163557449.png)

![image-20200223163612464](图片\image-20200223163612464.png)

![image-20200223163622799](图片\image-20200223163622799.png)

**没有new (创建对象)时是与primitive类型变量一样，只是将只是声名的引用和对象放在一块。当实例变量new了时会在另一个地方开一块堆空间并将引用连接到上面。**

![image-20200224093638066](图片\image-20200224093638066.png)